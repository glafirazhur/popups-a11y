<!DOCTYPE html>
<html lang="en">
<head>
  <title>Доступные попапы</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="shower/themes/ribbon/styles/styles.css">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.19.0/themes/prism.min.css">

  <style>
    .shower {
      --slide-ratio: calc(16 / 9);
    }

    .slide pre {
      margin-top: 0;
      padding-top: 0;
      padding-bottom: 0;;
    }

    .slide pre code {
      display: unset;
      margin-left: unset;
      padding: unset;
      width: unset;
      line-height: unset;
      white-space: unset;
      -moz-tab-size: unset;
      tab-size: unset;
    }

    .slide .shout.this-shout-top {
      top: calc(50% - 60px);
    }

    .slide pre.modal-pre {
      font-size: 18px;
    }

    .slide h2 {
      color: #444444;
    }
  </style>
</head>
  <body class="shower list">

    <header class="caption">
      <h1>Доступные попапы</h1>
      <p>Глафира Жур</p>
    </header>

    <section class="slide">
      <h2 class="shout this-shout this-shout-top">Ну вот и... всплыли</h2>
      <a href="https://www.youtube.com/watch?v=s6PI8pKQxgo" class="copyright right black">По мотивам доклада «Знакомьтесь, модальное окно»</a>
      <img class="cover" src="pictures/main.png" alt="Dead mouse">
    </section>

    <section class="slide">
      <div class="two-col-grid">
        <figure>
          <img src="pictures/glafira_zhur.jpg" alt="глафира жур">
        </figure>
        <div>
          <h2>Глафира Жур</h2>
          <div>
            <p class="info-text-no-margin">Frontend Developer в&nbsp;<img class="spurit-logo" src="pictures/spurit.png" alt="глафира жур"></p>
            <p class="info-text"><strong>Twitter</strong>: <a href="https://twitter.com/glafirazhur">@GlafiraZhur</a></p>
            <br>
            <p class="info-text"><strong>Помогаю делать</strong>: <br><a href="https://twitter.com/MinskCSS">@MinskCSS</a> и <a href="https://twitter.com/MinskJS">@MinskJS</a>, <a href="https://twitter.com/a11yminsk">@a11yminsk</a></p>
          </div>
        </div>

        <style>
          .two-col-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-gap: 50px;
          }
          .two-col-grid figure {
            display: block;
            text-align: center;
          }
          .two-col-grid figure img {
            width: 90%;
          }
          .info-text {
            font-size: 25px;
            margin-bottom: 5px;
          }

          .slide p.info-text-no-margin {
            margin-bottom: 0;
          }

          .spurit-logo {
            max-width: 130px;
            position: relative;
            top: 4px;
          }
        </style>
      </div>
    </section>

    <section class="slide">
      <h2 class="shout this-shout this-shout-top">История</h2>
      <img class="cover" src="pictures/story.png" alt="Dead mouse">
    </section>

    <section class="slide">
      <img class="cover" src="pictures/image-3.png" alt="Dead mouse">
      <a href="https://thesak.com" class="copyright right black">The Sak</a>
    </section>

    <section class="slide">
      <img class="cover" src="pictures/slide1.png" alt="Dead mouse">
    </section>

    <section class="slide">
      <img class="cover" src="pictures/slide2.png" alt="Dead mouse">
    </section>

    <section class="slide">
      <img class="cover" src="pictures/slide3.png" alt="Dead mouse">
    </section>

    <section class="slide">
      <img class="cover" src="pictures/slide4.png" alt="Dead mouse">
    </section>

    <section class="slide">
      <img class="cover" src="pictures/slide5.png" alt="Dead mouse">
    </section>

    <section class="slide">
      <video class="cover" controls>
        <source src="pictures/sitesearch-high.mp4" type="video/mp4">
      </video>
    </section>

    <section class="slide">
      <img class="cover" src="pictures/slide6.png" alt="Dead mouse">
    </section>

    <section class="slide cart-slide">
      <img class="cover" src="pictures/slide7.png" alt="Dead mouse">
    </section>

    <section class="slide">
      <h2 class="shout this-shout">Давайте поможем попапу</h2>
      <img class="dasha" src="pictures/slide8.png" alt="Dasha the treveler">
      <style>
        .dasha {
          position: absolute;
          top: 75%;
          left: 82%;
          width: 180px;
          transform: translate(-50%, -50%);
        }
        .this-shout {
          font-size: 130px!important;
        }
      </style>
    </section>

    <section class="slide">
      <img class="cover" src="pictures/slide17.png" alt="Dialog">
    </section>

    <section class="slide">
      <h2>Диалоги</h2>
      <div class="two-col-grid">
        <img class="next" src="pictures/slide9.png" alt="Dialog">
        <img class="next" src="pictures/slide10.png" alt="Dialog modal">
      </div>

      <style>
        .two-col-grid img {
          width: 95%;
        }
      </style>
    </section>

    <section class="slide">
      <h2 class="shout this-shout">Да кто такая <br>эта ваша модалка *****?!</h2>
      <img class="cover" src="pictures/whomodal.png" alt="Dialog">
    </section>

    <!-- форма -->
    <section class="slide">
      <img class="cover" src="pictures/slide16.png" alt="Dialog">
    </section>

    <!-- корзина -->
    <section class="slide cart-slide">
      <img class="cover" src="pictures/slide18.png" alt="Dialog">

      <style>
        .slide.cart-slide::after {
          left: initial;
          right: 875px;
        }
      </style>
    </section>

    <!-- картинка раскрыта на всю ширину -->
    <section class="slide">
      <img class="cover" src="pictures/slide19.png" alt="Dialog">
    </section>

    <!-- реальные примеры -->

    <section class="slide">
      <img class="cover" src="pictures/screen1.png" alt="Dialog">
    </section>

    <section class="slide">
      <img class="cover" src="pictures/screen3.png" alt="Dialog">
    </section>

    <section class="slide">
      <h2 class="shout">Модальные диалоги</h2>
    </section>

    <section class="slide">
      <img class="cover" src="pictures/subscription.png" alt="Dialog">
    </section>

    <section class="slide">
      <h2 class="shout this-shout">Структура модального окна</h2>
    </section>

    <section class="slide">
      <img class="cover" src="pictures/slide15.png" alt="Dialog">
    </section>

    <section class="slide">
      <h2 class="shout this-shout">Тег <br>&lt;dialog&gt;</h2>
      <a href="https://html.spec.whatwg.org/multipage/interactive-elements.html#the-dialog-element" class="copyright right black">dialog spec</a>
    </section>

    <section class="slide">
      <img class="cover" src="pictures/image-1.png" alt="Dialog">
      <a href="https://caniuse.com/#feat=dialog" class="copyright right black">Can I Use</a>
    </section>

    <section class="slide">
      <h2>HTML модального окна</h2>
      <pre class="modal-pre"><code class="language-html">
  &lt;div class="modal">
    &lt;div class="modal__header">
      &lt;h2>Заголовок модального окна&lt;/h2>
    &lt;/div>
    &lt;div class="modal__content">
      &lt;!-- контент -->
    &lt;/div>
    &lt;div class="modal__footer">
      &lt;!-- кнопки -->
    &lt;/div>
    &lt;button>X&lt;/button>
  &lt;/div>
      </code></pre>
    </section>

    <section class="slide">
      <h2 class="shout this-shout">Добавим <br>немного A11Y</h2>
      <img class="cover opacity" src="pictures/salt.jpg" alt="Dialog">

      <style>
        .opacity {
          opacity: 0.2;
          max-height: initial;
          width: 120%;
        }
      </style>

    </section>


    <section class="slide">
      <h2>Кнопка закрытия (сейчас)</h2>
      <pre>
  <code class="language-html">
    &lt;button>X&lt;/button>
  </code></pre>
    </section>

    <section class="slide">
      <h2>Прячем иконку от скринридера</h2>
      <pre>
  <code class="language-html">
    &lt;button>
      &lt;span aria-hidden="true">X&lt;/span>
    &lt;/button>
  </code></pre>
    </section>

    <section class="slide">
      <h2>Добавляем label для кнопки</h2>
      <pre>
  <code class="language-html">
    &lt;button>
      &lt;span aria-hidden="true">X&lt;/span>
      &lt;span class="visually-hidden">Закрыть окно&lt;/span>
    &lt;/button>
  </code></pre>
    </section>


    <section class="slide">
      <h2>Роль модального окна</h2>
      <pre>
  <code class="language-html">
  &lt;div class="modal">
    ...
  &lt;/div>
  </code></pre>
    </section>

    <section class="slide">
      <h2>Роль модального окна</h2>
      <pre>
  <code class="language-html">
  &lt;div class="modal" role="dialog">
    ...
  &lt;/div>
  </code></pre>
    </section>

    <section class="slide">
      <h2>Header и Footer модального окна</h2>
      <pre><code class="language-html">
    &lt;div class="modal__header">
      &lt;h2>Заголовок модального окна&lt;/h2>
    &lt;/div>
        ...
    &lt;div class="modal__footer">
      &lt;!-- кнопки -->
    &lt;/div>
      </code></pre>
    </section>

    <section class="slide">
      <img class="cover" src="pictures/screen5.png" alt="axe error">
      <a  class="copyright right white" href="https://www.deque.com/axe/">Плагин axe</a>
    </section>

    <section class="slide">
      <h2 class="next dont">Так нельзя!</h2>
      <pre class="modal-pre">
  <code class="language-html">
  &lt;div class="modal">
    &lt;header class="modal__header">
      &lt;h2>Заголовок модального окна&lt;/h2>
    &lt;/header>
    ...
    &lt;footer class="modal__footer">
      &lt;!-- кнопки -->
    &lt;/footer>
    &lt;button>X&lt;/button>
  &lt;/div>
  </code></pre>

      <img src="pictures/cross.svg" class="cover next" alt="Cross" style="z-index: 1000;">
      <style>
        .slide h2.dont {
          color: #f00;
        }
      </style>

    </section>

    <section class="slide">
      <h2>Ошибка валидации в axe</h2>
      <img class="slide-img" src="pictures/screen.png" alt="axe error">
      <a  class="copyright right black" href="https://www.deque.com/axe/">Плагин axe</a>
    </section>

    <section class="slide">
      <h2 class="next dont">Так тоже нельзя!</h2>
      <pre class="modal-pre">
  <code class="language-html">
  &lt;section class="modal" role="dialog">
    &lt;header class="modal__header">
      &lt;h2>Заголовок модального окна&lt;/h2>
    &lt;/header>
    ...
    &lt;footer class="modal__footer">
      &lt;!-- кнопки -->
    &lt;/footer>
    &lt;button>X&lt;/button>
  &lt;/section>
  </code></pre>
      <img src="pictures/cross.svg" class="cover next" alt="Cross" style="z-index: 1000;">
    </section>

    <section class="slide">
      <h2>Ошибка валидации в axe</h2>
      <img class="slide-img" src="pictures/screen2.png" alt="axe error">
      <a  class="copyright right black" href="https://www.deque.com/axe/">Плагин axe</a>
    </section>

    <section class="slide">
      <h2>Валидный вариант</h2>
      <pre class="modal-pre">
  <code class="language-html">
  &lt;div class="modal">
    &lt;section>
      &lt;header class="modal__header">
        &lt;h2>Заголовок модального окна&lt;/h2>
      &lt;/header>
      ...
      &lt;footer class="modal__footer">
        &lt;!-- кнопки -->
      &lt;/footer>
    &lt;/section>
    &lt;button>X&lt;/button>
  &lt;/div>
  </code></pre>
      <style>
        .slide h2.dont {
          color: #f00;
        }
      </style>

    </section>

    <section class="slide">
      <h2>Заголовок модального окна</h2>
      <pre>
  <code class="language-html">
  &lt;div class="modal" role="dialog">
    &lt;div class="modal__header">
      &lt;h2>Заголовок модального окна&lt;/h2>
    &lt;/div>
    ...
  &lt;/div>
  </code></pre>
    </section>

    <section class="slide">
      <h2>Заголовок модального окна</h2>
      <pre class="modal-pre">
  <code class="language-html">
  &lt;div class="modal" role="dialog">
    &lt;div class="modal__header">
      &lt;h2 id="subscribeModal">Заголовок модального окна&lt;/h2>
    &lt;/div>
    ...
  &lt;/div>
  </code></pre>
    </section>

    <section class="slide">
      <h2>Заголовок модального окна</h2>
      <pre class="modal-pre">
  <code class="language-html">
  &lt;div class="modal" role="dialog" aria-labelledby="subscribeModal">
    &lt;div class="modal__header">
      &lt;h2 id="subscribeModal">Заголовок модального окна&lt;/h2>
    &lt;/div>
    ...
  &lt;/div>
  </code></pre>
    </section>

    <section class="slide">
      <h2>Тип модального окна</h2>
      <pre class="modal-pre">
  <code class="language-html">
  &lt;div
    class="modal"
    role="dialog"
    aria-labelledby="subscribeModal"
  >
    &lt;div class="modal__header">
      &lt;h2 id="subscribeModal">Заголовок модального окна&lt;/h2>
    &lt;/div>
    ...
  &lt;/div>
  </code></pre>
    </section>

    <section class="slide">
      <h2>Тип модального окна</h2>
      <pre class="modal-pre">
  <code class="language-html">
  &lt;div
    class="modal"
    role="dialog"
    aria-labelledby="subscribeModal"
    aria-modal="true"
  >
    &lt;div class="modal__header">
      &lt;h2 id="subscribeModal">Заголовок модального окна&lt;/h2>
    &lt;/div>
    ...
  &lt;/div>
  </code></pre>
    </section>

    <section class="slide">
      <h2>Чек-лист по верстке</h2>
      <ol class="check-list">
        <li class="next">Соблюдаем структуру модального окна</li>
        <li class="next">Модальному окну даём<code>role="dialog"</code></li>
        <li class="next">Заголовку даём <code>id="ID"</code></li>
        <li class="next">Связываем заголовок с окном: <code>aria-labelledby="ID"</code></li>
        <li class="next">Определяем тип окна <code>aria-modal="true"</code></li>
      </ol>

      <style>
        .check-list {
          list-style: none;
          margin-left: 40px;
        }
        .check-list li {
          position: relative;
        }
        .slide ol.check-list > li::before,
        .slide ol.check-list li::before
        {
          content: '';
          position: absolute;
          top: 10px;
          left: 0;
          display: block;
          width: 25px;
          height: 25px;
          background-image: url("pictures/correct.svg");
          background-repeat: none;
          background-size: 100%;
        }
      </style>

    </section>

    <section class="slide">
      <h2 class="shout">Поведение</h2>
    </section>

    <section class="slide">
      <h2>Устанавливаем фокус на кнопку закрытия окна</h2>
      <img class="slide-img" src="pictures/slide11.png" alt="Dialog">

      <style>
        .slide-img {
          width: 100%;
        }
      </style>
    </section>

    <section class="slide white-header">
      <h2>Зацикливаем фокус в окнe (focus trap)</h2>
      <figure>
        <img class="slide-img" src="pictures/slide12.png" alt="Dialog">
        <figcaption class="copyright right black">
          <a href="https://github.com/davidtheclark/focus-trap">Focus-trap JS lib</a>
        </figcaption>
      </figure>
    </section>

    <section class="slide">
      <h2>Закрываем модальное окно</h2>
      <img class="slide-img" src="pictures/slide13.png" alt="Dialog">
    </section>

    <section class="slide ">
      <h2>Возвращаем фокус на открывший элемент</h2>
      <img class="slide-img" src="pictures/slide14.png" alt="Dialog">
    </section>

    <section class="slide">
      <h2>Как скрыть модальное окно?</h2>
      <pre class="next">
  <code class="language-css">
    .hidden {
      display: none;
    }
  </code></pre>
    </section>

     <section class="slide">
      <h2>Чек-лист по поведению</h2>
      <ol class="check-list" style="font-size: 22px;">
        <li class="next">Устанавливаем фокус внутрь окна (на кнопку закрытия)</li>
        <li class="next">Делаем focus trap внутри окна</li>
        <li class="next">Реализуем закрытие:
          <ol>
            <li class="next">по Esc</li>
            <li class="next">по клику на кнопку закрытия</li>
            <li class="next">по клику на overlay</li>
          </ol>
        </li>

        <li class="next">Прячем модальное окно с помощью <code>display: none;</code></li>
        <li class="next">... и</li>
      </ol>
    </section>

    <section class="slide">
      <h2 class="shout" style="color: #0083C4;">#StayHome</h2>
    </section>

    <section class="slide">
      <h2 class="shout">Выводы</h2>
    </section>

    <section class="slide">
      <h2 class="shout">Что поменялось<br> за 3 года?</h2>
    </section>

    <section class="slide">
      <h2 class="shout">НИЧЕГО</h2>
      <img class="cover" src="pictures/slide21.png" alt="Dialog">
    </section>

    <section class="slide">
      <h2 class="shout">НИЧЕГО</h2>
      <img class="cover" src="pictures/slide22.png" alt="Dialog">
    </section>

    <section class="slide">
      <h2 class="shout">НИЧЕГО</h2>
      <img class="cover" src="pictures/slide20.png" alt="Dialog">
    </section>

    <section class="slide">
      <h2>Полезные ресурсы</h2>
      <ol>
        <li><a href="https://www.w3.org/TR/wai-aria-practices/examples/dialog-modal/dialog.html">W3C WAI-ARIA practices - Modal Dialog Example</a></li>
        <li><a href="https://html.spec.whatwg.org/multipage/interactive-elements.html#the-dialog-element">Dialog HTML specification</a></li>
        <li><a href="https://www.youtube.com/watch?v=s6PI8pKQxgo">«Знакомьтесь, модальное окно» - Анна Селезнёва (YouTube)</a></li>
        <li><a href="https://twitter.com/IoannaTalasli/status/1240200174636535810">Способы тестирования доступности (Twitter)</a></li>
      </ol>
    </section>

    <section class="slide">
      <h2 class="shout">Спасибо за внимание!</h2>
    </section>

    <footer class="badge">
      <a href="https://github.com/shower/shower">Fork Shower on GitHub</a>
    </footer>

    <div class="progress"></div>

    <script src="shower/shower.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.19.0/prism.min.js"></script>

  </body>
</html>
